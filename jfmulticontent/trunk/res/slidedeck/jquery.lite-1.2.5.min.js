/**
 * SlideDeck 1.2.5 Lite - 2011-06-01
 * Copyright (c) 2011 digital-telepathy (http://www.dtelepathy.com)
 * 
 * Support the developers by purchasing the Pro version at http://www.slidedeck.com/download
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
 * 
 * More information on this project:
 * http://www.slidedeck.com/
 * 
 * Requires: jQuery v1.3+
 * 
 * Full Usage Documentation: http://www.slidedeck.com/usage-documentation 
 * Usage:
 *     $(el).slidedeck(opts);
 * 
 * @param {HTMLObject} el    The <DL> element to extend as a SlideDeck
 * @param {Object} opts        An object to pass custom override options to
 */
var SlideDeck;var SlideDeckSkin={};(function(a){window.SlideDeck=function(b,c){var d=this,b=a(b);var e="1.2.5";this.options={speed:500,transition:"swing",start:1,activeCorner:true,index:true,scroll:true,keys:true,autoPlay:false,autoPlayInterval:5e3,hideSpines:false,cycle:false};this.classes={slide:"slide",spine:"spine",label:"label",index:"index",active:"active",indicator:"indicator",activeCorner:"activeCorner",disabled:"disabled",vertical:"slidesVertical",previous:"previous",next:"next"};this.current=1;this.deck=b;this.spines=b.children("dt");this.slides=b.children("dd");this.controlTo=1;this.session=[];this.disabledSlides=[];this.pauseAutoPlay=false;this.isLoaded=false;var f=navigator.userAgent.toLowerCase();this.browser={chrome:f.match(/chrome/)?true:false,firefox:f.match(/firefox/)?true:false,firefox2:f.match(/firefox\/2/)?true:false,firefox30:f.match(/firefox\/3\.0/)?true:false,msie:f.match(/msie/)?true:false,msie6:f.match(/msie 6/)&&!f.match(/msie 7|8/)?true:false,msie7:f.match(/msie 7/)?true:false,msie8:f.match(/msie 8/)?true:false,msie9:f.match(/msie 9/)?true:false,chromeFrame:f.match(/msie/)&&f.match(/chrome/)?true:false,opera:f.match(/opera/)?true:false,safari:f.match(/safari/)&&!f.match(/chrome/)?true:false};for(var g in this.browser){if(this.browser[g]===true){this.browser._this=g}}if(this.browser.chrome===true&&!this.browser.chromeFrame){this.browser.version=f.match(/chrome\/([0-9\.]+)/)[1]}if(this.browser.firefox===true){this.browser.version=f.match(/firefox\/([0-9\.]+)/)[1]}if(this.browser.msie===true){this.browser.version=f.match(/msie ([0-9\.]+)/)[1]}if(this.browser.opera===true){this.browser.version=f.match(/version\/([0-9\.]+)/)[1]}if(this.browser.safari===true){this.browser.version=f.match(/version\/([0-9\.]+)/)[1]}var h;var i;var j,k,l,m;var n=function(a){if(d.browser.msie&&!d.browser.msie9){var b=a.css("background-color");var c=b;if(c=="transparent"){b="#ffffff"}else{if(c.match("#")){if(c.length<7){var e="#"+c.substr(1,1)+c.substr(1,1)+c.substr(2,1)+c.substr(2,1)+c.substr(3,1)+c.substr(3,1);b=e}}}b=b.replace("#","");cParts={r:b.substr(0,2),g:b.substr(2,2),b:b.substr(4,2)};var f="#";var g="01234567890ABCDEF";for(var h in cParts){cParts[h]=Math.max(0,parseInt(cParts[h],16)-1);cParts[h]=g.charAt((cParts[h]-cParts[h]%16)/16)+g.charAt(cParts[h]%16);f+=cParts[h]}a.find("."+d.classes.index).css({filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1) chroma(color="+f+")",backgroundColor:f})}};var o={id:"SlideDeck_Bug"+Math.round(Math.random()*1e8),styles:"position:absolute !important;height:"+13+"px !important;width:"+130+"px !important;display:block !important;margin:0 !important;overflow:hidden !important;visibility:visible !important;opacity:1 !important;padding:0 !important;z-index:20000 !important",width:130,height:13};var p=function(){if(!document.getElementById(o.id)){var c=document.createElement("A");c.id=o.id;c.href="http://www.slidedeck.com/?utm_source=LiteUser&utm_medium=Link&utm_campaign=SDbug";c.target="_blank";var d=document.createElement("IMG");d.src=(document.location.protocol=="https:"?"https:":"http:")+"//www.slidedeck.com/6885858486f31043e5839c735d99457f045affd0/"+e+"/lite";d.alt="Powered by SlideDeckâ„¢";d.width=o.width;d.height=o.height;d.border="0";c.appendChild(d);o.top=b.offset().top+b.height()+5;o.left=b.offset().left+b.width()-o.width;var f=document.createElement("STYLE");f.type="text/css";var g="#"+o.id+"{top:"+o.top+"px;left:"+o.left+"px;"+o.styles+"}"+"#"+o.id+" img{top:0 !important;left:0 !important;"+o.styles+"}";if(f.styleSheet){f.styleSheet.cssText=g}else{f.appendChild(document.createTextNode(g))}a("head").append(f);if(Math.random()<.5){a(document.body).prepend(c)}else{a(document.body).append(c)}a(window).resize(function(){p()})}o.top=b.offset().top+b.height()+5;o.left=b.offset().left+b.width()-o.width;a("#"+o.id).css({top:o.top+"px",left:o.left+"px"})};var q=function(){gotoNext=function(){if(d.pauseAutoPlay===false){if(d.options.cycle===false&&d.current==d.slides.length){d.pauseAutoPlay=true}else{d.next()}}};setInterval(gotoNext,d.options.autoPlayInterval)};var r=function(){if(a.inArray(b.css("position"),["position","absolute","fixed"])){b.css("position","relative")}b.css("overflow","hidden");for(var c=0;c<d.slides.length;c++){var e=a(d.slides[c]);if(d.spines.length>c){var f=a(d.spines[c])}var g={top:parseInt(e.css("padding-top"),10),right:parseInt(e.css("padding-right"),10),bottom:parseInt(e.css("padding-bottom"),10),left:parseInt(e.css("padding-left"),10)};var h={top:parseInt(e.css("border-top-width"),10),right:parseInt(e.css("border-right-width"),10),bottom:parseInt(e.css("border-bottom-width"),10),left:parseInt(e.css("border-left-width"),10)};for(var o in h){h[o]=isNaN(h[o])?0:h[o]}if(c<d.current){if(c==d.current-1){if(d.options.hideSpines!==true){f.addClass(d.classes.active)}e.addClass(d.classes.active)}offset=c*k;if(d.options.hideSpines===true){if(c==d.current-1){offset=0}else{offset=0-(d.options.start-c-1)*b.width()}}}else{offset=c*k+l;if(d.options.hideSpines===true){offset=(c+1-d.options.start)*b.width()}}d.slide_width=l-g.left-g.right-h.left-h.right;e.css({position:"absolute",left:offset,zIndex:1,height:i-g.top-g.bottom-h.top-h.bottom+"px",width:d.slide_width+"px",margin:0,paddingLeft:g.left+k+"px"}).addClass(d.classes.slide).addClass(d.classes.slide+"_"+(c+1));if(d.options.hideSpines!==true){var r={top:parseInt(f.css("padding-top"),10),right:parseInt(f.css("padding-right"),10),bottom:parseInt(f.css("padding-bottom"),10),left:parseInt(f.css("padding-left"),10)};for(var o in r){if(r[o]<10&&(o=="left"||o=="right")){r[o]=10}}var s=r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px";var t={position:"absolute",zIndex:3,display:"block",left:offset,width:i-r.left-r.right+"px",height:j+"px",padding:s,rotation:"270deg","-webkit-transform":"rotate(270deg)","-webkit-transform-origin":m+"px 0px","-moz-transform":"rotate(270deg)","-moz-transform-origin":m+"px 0px","-o-transform":"rotate(270deg)","-o-transform-origin":m+"px 0px",textAlign:"right"};if(!d.browser.msie9){t.top=d.browser.msie?0:i-m+"px";t.marginLeft=(d.browser.msie?0:0-m)+"px";t.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}f.css(t).addClass(d.classes.spine).addClass(d.classes.spine+"_"+(c+1));if(d.browser.msie9){f[0].style.msTransform="rotate(270deg)";f[0].style.msTransformOrigin=Math.round(parseInt(b[0].style.height)/2)+"px "+Math.round(parseInt(b[0].style.height)/2)+"px"}}else{if(typeof f!="undefined"){f.hide()}}if(c==d.slides.length-1){e.addClass("last");if(d.options.hideSpines!==true){f.addClass("last")}}if(d.options.activeCorner===true&&d.options.hideSpines===false){var u=document.createElement("DIV");u.className=d.classes.activeCorner+" "+(d.classes.spine+"_"+(c+1));f.after(u);f.next("."+d.classes.activeCorner).css({position:"absolute",top:"25px",left:offset+k+"px",overflow:"hidden",zIndex:"20000"}).hide();if(f.hasClass(d.classes.active)){f.next("."+d.classes.activeCorner).show()}}if(d.options.hideSpines!==true){var v=document.createElement("DIV");v.className=d.classes.index;if(d.options.index!==false){var w;if(typeof d.options.index!="boolean"){w=d.options.index[c%d.options.index.length]}else{w=""+(c+1)}v.appendChild(document.createTextNode(w))}f.append(v);f.find("."+d.classes.index).css({position:"absolute",zIndex:2,display:"block",width:j+"px",height:j+"px",textAlign:"center",bottom:(d.browser.msie?0:0-m)+"px",left:(d.browser.msie?5:20)+"px",rotation:"90deg","-webkit-transform":"rotate(90deg)","-webkit-transform-origin":m+"px 0px","-moz-transform":"rotate(90deg)","-moz-transform-origin":m+"px 0px","-o-transform":"rotate(90deg)","-o-transform-origin":m+"px 0px"});if(d.browser.msie9){f.find("."+d.classes.index)[0].style.msTransform="rotate(90deg)"}n(f)}}p();if(d.options.hideSpines!==true){d.spines.bind("click",function(a){a.preventDefault();d.goTo(d.spines.index(this)+1)})}if(d.options.keys!==false){a(document).bind("keydown",function(b){if(a(b.target).parents().index(d.deck)==-1){if(b.keyCode==39){d.pauseAutoPlay=true;d.next()}else if(b.keyCode==37){d.pauseAutoPlay=true;d.prev()}}})}if(typeof a.event.special.mousewheel!="undefined"){b.bind("mousewheel",function(b){if(d.options.scroll!==false){var c=b.detail?b.detail:b.wheelDelta;if(d.browser.msie||d.browser.safari||d.browser.chrome){c=0-c}var e=false;if(a(b.originalTarget).parents(d.deck).length){if(a.inArray(b.originalTarget.nodeName.toLowerCase(),["input","select","option","textarea"])!=-1){e=true}}if(e!==true){if(c>0){switch(d.options.scroll){case"stop":b.preventDefault();break;case true:default:if(d.current<d.slides.length||d.options.cycle==true){b.preventDefault()}break}d.pauseAutoPlay=true;d.next()}else{switch(d.options.scroll){case"stop":b.preventDefault();break;case true:default:if(d.current!=1||d.options.cycle==true){b.preventDefault()}break}d.pauseAutoPlay=true;d.prev()}}}})}a(d.spines[d.current-2]).addClass(d.classes.previous);a(d.spines[d.current]).addClass(d.classes.next);if(d.options.autoPlay===true){q()}d.isLoaded=true};var s=function(a){a=Math.min(d.slides.length,Math.max(1,a));return a};var t=function(c,e){c=s(c);var f=true;if(c<d.current){f=false}var g=[d.classes.active,d.classes.next,d.classes.previous].join(" ");d.current=c;d.spines.removeClass(g);d.slides.removeClass(g);b.find("."+d.classes.activeCorner).hide();a(d.spines[d.current-2]).addClass(d.classes.previous);a(d.spines[d.current]).addClass(d.classes.next);for(var h=0;h<d.slides.length;h++){var i=0;if(d.options.hideSpines!==true){var j=a(d.spines[h])}var m=a(d.slides[h]);if(h<d.current){if(h==d.current-1){m.addClass(d.classes.active);if(d.options.hideSpines!==true){j.addClass(d.classes.active);j.next("."+d.classes.activeCorner).show()}}i=h*k}else{i=h*k+l}if(d.options.hideSpines===true){i=(h-d.current+1)*b.width()}var o={duration:d.options.speed,easing:d.options.transition};m.stop().animate({left:i+"px",width:d.slide_width+"px"},o);if(d.options.hideSpines!==true){n(j);if(j.css("left")!=i+"px"){j.stop().animate({left:i+"px"},{duration:d.options.speed,easing:d.options.transition});j.next("."+d.classes.activeCorner).stop().animate({left:i+k+"px"},{duration:d.options.speed,easing:d.options.transition})}}}p()};var u=function(b,c){var e=b;if(typeof b==="string"){e={};e[b]=c}for(var f in e){c=e[f];switch(f){case"speed":case"start":c=parseFloat(c);if(isNaN(c)){c=d.options[f]}break;case"scroll":case"keys":case"activeCorner":case"hideSpines":case"autoPlay":case"cycle":if(typeof c!=="boolean"){c=d.options[f]}break;case"transition":if(typeof c!=="string"){c=d.options[f]}break;case"complete":case"before":if(typeof c!=="function"){c=d.options[f]}break;case"index":if(typeof c!=="boolean"){if(!a.isArray(c)){c=d.options[f]}}break}d.options[f]=c}};var v=function(){i=b.height();h=b.width();b.css("height",i+"px");j=0;k=0;if(d.options.hideSpines!==true&&d.spines.length>0){j=a(d.spines[0]).height();k=a(d.spines[0]).outerHeight()}l=h-k*d.spines.length;if(d.options.hideSpines===true){l=h}m=Math.ceil(j/2)};var w=function(a){if(d.browser.opera&&d.browser.version<"10.5"||d.browser.msie6||d.browser.firefox2||d.browser.firefox30){if(typeof console!="undefined"){if(typeof console.error=="function"){console.error("This web browser is not supported by SlideDeck. Please view this page in a modern, CSS3 capable browser or a current version of Inernet Explorer")}}return false}if(typeof a!="undefined"){for(var c in a){d.options[c]=a[c]}}if(d.spines.length<1){d.options.hideSpines=true}if(d.options.hideSpines===true){d.options.activeCorner=false}d.current=Math.min(d.slides.length,Math.max(1,d.options.start));if(b.height()>0){v();r()}else{var e;e=setTimeout(function(){v();if(b.height()>0){clearInterval(e);v();r()}},20)}};var x=function(a){var b;b=setInterval(function(){if(d.isLoaded==true){clearInterval(b);a()}},20)};this.loaded=function(a){x(a);return d};this.next=function(a){var b=Math.min(d.slides.length,d.current+1);if(d.options.cycle===true){if(d.current+1>d.slides.length){b=1}}t(b,a);return d};this.prev=function(a){var b=Math.max(1,d.current-1);if(d.options.cycle===true){if(d.current-1<1){b=d.slides.length}}t(b,a);return d};this.goTo=function(a,b){d.pauseAutoPlay=true;t(Math.min(d.slides.length,Math.max(1,a)),b);return d};this.setOption=function(a,b){u(a,b);return d};w(c)};a.fn.slidedeck=function(a){var b=[];for(var c=0;c<this.length;c++){if(!this[c].slidedeck){this[c].slidedeck=new SlideDeck(this[c],a)}b.push(this[c].slidedeck)}return b.length>1?b:b[0]}})(jQuery)